import{d as h,a as $,q as L}from"./DataKey-COGXBUcQ.js";import{r as c,q as _,j as g,A as B,J as U}from"./index-UeTnRMFd.js";import{S as y,N as A,m as R,u as k}from"./NavContext-DrMMs5k1.js";const S=c.createContext(null),W=["as","active","eventKey"];function F(e,u){if(e==null)return{};var r={},s=Object.keys(e),n,t;for(t=0;t<s.length;t++)n=s[t],!(u.indexOf(n)>=0)&&(r[n]=e[n]);return r}function J({key:e,onClick:u,active:r,id:s,role:n,disabled:t}){const v=c.useContext(y),d=c.useContext(A),x=c.useContext(S);let f=r;const o={role:n};if(d){!n&&d.role==="tablist"&&(o.role="tab");const a=d.getControllerId(e??null),C=d.getControlledId(e??null);o[h("event-key")]=e,o.id=a||s,f=r==null&&e!=null?d.activeKey===e:r,(f||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(o["aria-controls"]=C)}return o.role==="tab"&&(o["aria-selected"]=f,f||(o.tabIndex=-1),t&&(o.tabIndex=-1,o["aria-disabled"]=!0)),o.onClick=_(a=>{t||(u==null||u(a),e!=null&&v&&!a.isPropagationStopped()&&v(e,a))}),[o,{isActive:f}]}const D=c.forwardRef((e,u)=>{let{as:r=B,active:s,eventKey:n}=e,t=F(e,W);const[v,d]=J(Object.assign({key:R(n,t.href),active:s},t));return v[h("active")]=d.isActive,g.jsx(r,Object.assign({},t,v,{ref:u}))});D.displayName="NavItem";const M=D,V=["as","onSelect","activeKey","role","onKeyDown"];function Y(e,u){if(e==null)return{};var r={},s=Object.keys(e),n,t;for(t=0;t<s.length;t++)n=s[t],!(u.indexOf(n)>=0)&&(r[n]=e[n]);return r}const w=()=>{},E=h("event-key"),P=c.forwardRef((e,u)=>{let{as:r="div",onSelect:s,activeKey:n,role:t,onKeyDown:v}=e,d=Y(e,V);const x=k(),f=c.useRef(!1),o=c.useContext(y),a=c.useContext(S);let C,K;a&&(t=t||"tablist",n=a.activeKey,C=a.getControlledId,K=a.getControllerId);const m=c.useRef(null),N=l=>{const i=m.current;if(!i)return null;const b=L(i,`[${E}]:not([aria-disabled=true])`),I=i.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const O=b.indexOf(I);if(O===-1)return null;let p=O+l;return p>=b.length&&(p=0),p<0&&(p=b.length-1),b[p]},j=(l,i)=>{l!=null&&(s==null||s(l,i),o==null||o(l,i))},T=l=>{if(v==null||v(l),!a)return;let i;switch(l.key){case"ArrowLeft":case"ArrowUp":i=N(-1);break;case"ArrowRight":case"ArrowDown":i=N(1);break;default:return}i&&(l.preventDefault(),j(i.dataset[$("EventKey")]||null,l),f.current=!0,x())};c.useEffect(()=>{if(m.current&&f.current){const l=m.current.querySelector(`[${E}][aria-selected=true]`);l==null||l.focus()}f.current=!1});const q=U(u,m);return g.jsx(y.Provider,{value:j,children:g.jsx(A.Provider,{value:{role:t,activeKey:R(n),getControlledId:C||w,getControllerId:K||w},children:g.jsx(r,Object.assign({},d,{onKeyDown:T,ref:q,role:t}))})})});P.displayName="Nav";const Q=Object.assign(P,{Item:M});export{Q as B,S as T,J as u};
